<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<title>BIG T DOMEENID</title>
	<link rel="icon" type="image/x-icon" href="/favicon_io/favicon.ico" />
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
		integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous" />
	<link href="https://fonts.googleapis.com/css2?family=Parkinsans:wght@300;400;700;800&display=swap"
		rel="stylesheet" />
	<link rel="stylesheet" href="styles.css" />
</head>

<body>
	<header class="header">
		<div class="container">
			<div class="logo-container">
				<img src="logo.png" alt="Big T Domeenid Logo" class="logo-image" />
				<div class="logo">BIG T DOMEENID.ee</div>
			</div>
			<div class="step-indicator">
				<div class="step active">1</div>
				<div class="step">2</div>
				<div class="step">3</div>
			</div>
			<nav class="top-nav">
				<button class="top-item">Domeenid</button>
				<button class="top-item">Koduleht</button>
				<button class="top-item">E-post</button>
				<button class="top-item">Hinnad</button>
			</nav>
		</div>
	</header>

	<main class="main-container">
		<div class="white-container" id="whiteContainer">
			<h1 class="first-text">BIG T</h1>
			<h1 class="first2-text">DOMEENID</h1>

			<div class="domain-rules">
				Domeeninimi peab olema 1–63 märki pikk, sisaldama ainult tähti (a–z,
				ä, ö, ü, õ, š, ž), numbreid (0–9) ja sidekriipsu (mitte alguses ega
				lõpus). Nimi peab olema unikaalne, mitte rikkuma kaubamärgiõigusi ega
				olema vastuolus heade tavadega.
			</div>

			<div class="input-container">
				<h1 class="httpstext">https://</h1>
				<input type="text" class="input" id="domainName" placeholder="Sisesta soovitud domeen" />
				<select class="select" id="domainExtension">
					<option value="">SELECT</option>
					<option value=".ee">.ee</option>
					<option value=".com">.com</option>
					<option value=".org">.org</option>
				</select>
			</div>

			<div class="button-container">
				<button type="button" class="button" onclick="showModal()">
					Kontrolli
				</button>
			</div>

			<div id="domainModal">Domeen ei ole saadaval!</div>
			<div id="domainModalj">Domeen on saadaval!</div>

			<div id="durationContainer" class="duration-container">
				<span id="domainPrice">0.00 € + km</span>
				<select id="durationSelect" class="select">
					<option value="Vali Periood">Vali Periood</option>
					<option value="1">1 aasta</option>
					<option value="2">2 aastat</option>
					<option value="3">3 aastat</option>
					<option value="5">5 aastat</option>
					<option value="8">8 aastat</option>
					<option value="10">10 aastat</option>
				</select>
			</div>

			<div class="button-container">
				<a class="no-underline"> <!--href="page2.html" -->
					<button onclick="pricePush()" type="button" class="button" id="nextButton" style="display: none">
						Edasi andmeid sisestama >
					</button>
				</a>
			</div>
		</div>
	</main>

	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
		integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
		crossorigin="anonymous"></script>

	<script>
		let data = []
		let lastprice = 0			

		function showModal() {
			var randomNumber = Math.floor(Math.random() * 2) + 1;
			var whiteContainer = document.getElementById("whiteContainer");

			whiteContainer.classList.remove("available", "unavailable");

			document.getElementById("domainModal").style.display = "none";
			document.getElementById("domainModalj").style.display = "none";
			document.getElementById("durationContainer").style.display = "none";
			document.getElementById("nextButton").style.display = "none";

			updatePrice();

			if (randomNumber === 1) {
				document.getElementById("domainModal").style.display = "block";
				whiteContainer.classList.add("unavailable");
			} else {
				document.getElementById("domainModalj").style.display = "block";
				whiteContainer.classList.add("available");
				document.getElementById("durationContainer").style.display = "block";
				document.getElementById("nextButton").style.display = "block";
			}
		}

		function updatePrice() {
			const duration = document.getElementById("durationSelect").value;
			let price = 0;
			switch (duration) {
				case "1":
					price = 10;
					break;
				case "2":
					price = 19;
					break;
				case "3":
					price = 27;
					break;
				case "5":
					price = 41;
					break;
				case "8":
					price = 61;
					break;
				case "10":
					price = 75;
					break;
				default:
					price = "__";
			}
			document.getElementById("domainPrice").textContent = `${price} € + km`;
			lastprice = price
		}
		
		function pricePush(){
			data.push(lastprice)
			console.log(data);
		}

		document
			.getElementById("durationSelect")
			.addEventListener("change", updatePrice);
	</script>
</body>

</html>